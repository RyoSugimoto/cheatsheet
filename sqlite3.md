# ğŸ§  SQLite3 CLIï¼ˆsqlite3ï¼‰ãƒãƒ¼ãƒˆã‚·ãƒ¼ãƒˆ

## ğŸ”¹ æ¥ç¶šãƒ»çµ‚äº†ç³»

| ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ |
|-----------|------|
| `sqlite3 ãƒ•ã‚¡ã‚¤ãƒ«å.db` | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ãï¼ˆãªã‘ã‚Œã°ä½œæˆï¼‰ |
| `.open ãƒ•ã‚¡ã‚¤ãƒ«å.db` | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’é–‹ã |
| `.databases` | ç¾åœ¨æ¥ç¶šä¸­ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¸€è¦§ã‚’è¡¨ç¤º |
| `.exit` ã¾ãŸã¯ `.quit` | SQLite ã‚’çµ‚äº† |

---

## ğŸ”¹ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ

| ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ |
|-----------|------|
| `ATTACH 'åˆ¥ã®ãƒ•ã‚¡ã‚¤ãƒ«.db' AS åˆ¥å;` | ä»–ã®DBã‚’æ¥ç¶šï¼ˆãƒãƒ«ãƒDBæ“ä½œï¼‰ |
| `DETACH åˆ¥å;` | æ¥ç¶šã—ãŸDBã‚’åˆ‡æ–­ |
| `.backup ãƒ•ã‚¡ã‚¤ãƒ«å.db` | ç¾åœ¨ã®DBã‚’ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ— |
| `.restore ãƒ•ã‚¡ã‚¤ãƒ«å.db` | ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰å¾©å…ƒ |

---

## ğŸ”¹ ãƒ†ãƒ¼ãƒ–ãƒ«é–¢é€£

| ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ |
|-----------|------|
| `.tables` | ç¾åœ¨ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å†…ã®ãƒ†ãƒ¼ãƒ–ãƒ«ä¸€è¦§ã‚’è¡¨ç¤º |
| `.schema` | å…¨ãƒ†ãƒ¼ãƒ–ãƒ«ã®CREATEæ–‡ã‚’è¡¨ç¤º |
| `.schema ãƒ†ãƒ¼ãƒ–ãƒ«å` | æŒ‡å®šãƒ†ãƒ¼ãƒ–ãƒ«ã®CREATEæ–‡ã‚’è¡¨ç¤º |
| `CREATE TABLE table_name (...);` | ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ |
| `DROP TABLE table_name;` | ãƒ†ãƒ¼ãƒ–ãƒ«å‰Šé™¤ |
| `PRAGMA table_info(table_name);` | ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€ ã‚’ç¢ºèªï¼ˆã‚«ãƒ©ãƒ æƒ…å ±ï¼‰ |

---

## ğŸ”¹ ãƒ‡ãƒ¼ã‚¿æ“ä½œ (SQL)

| ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ |
|-----------|------|
| `SELECT * FROM table_name;` | ãƒ†ãƒ¼ãƒ–ãƒ«å†…å®¹ã‚’ã™ã¹ã¦è¡¨ç¤º |
| `INSERT INTO table_name VALUES (...);` | ãƒ‡ãƒ¼ã‚¿ã‚’æŒ¿å…¥ |
| `UPDATE table_name SET col = val WHERE ...;` | ãƒ‡ãƒ¼ã‚¿æ›´æ–° |
| `DELETE FROM table_name WHERE ...;` | ãƒ‡ãƒ¼ã‚¿å‰Šé™¤ |
| `.import ãƒ•ã‚¡ã‚¤ãƒ«.csv table_name` | CSVã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆäº‹å‰ã« `.mode csv` ã‚’è¨­å®šï¼‰ |
| `.mode csv` â†’ `.output ãƒ•ã‚¡ã‚¤ãƒ«.csv` â†’ `SELECT * FROM table_name;` | CSVã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ |

---

## ğŸ”¹ å‡ºåŠ›è¨­å®šãƒ»æ•´å½¢

| ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ |
|-----------|------|
| `.headers on` | ã‚«ãƒ©ãƒ åï¼ˆãƒ˜ãƒƒãƒ€ï¼‰ã‚’è¡¨ç¤º |
| `.mode column` | ã‚«ãƒ©ãƒ ã”ã¨ã«æ•´åˆ—ã—ã¦è¡¨ç¤º |
| `.mode list` | åŒºåˆ‡ã‚Šæ–‡å­—ã§å‡ºåŠ› |
| `.mode csv` | CSVå½¢å¼ã§å‡ºåŠ› |
| `.separator ,` | åŒºåˆ‡ã‚Šæ–‡å­—ã‚’æŒ‡å®š |
| `.nullvalue NULL` | NULLå€¤ã®è¡¨ç¤ºã‚’è¨­å®š |
| `.width 10 20 30` | ã‚«ãƒ©ãƒ ã”ã¨ã®å¹…ã‚’æŒ‡å®š |

---

## ğŸ”¹ æƒ…å ±ãƒ»è¨­å®šç¢ºèª

| ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ |
|-----------|------|
| `SELECT sqlite_version();` | SQLite ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³è¡¨ç¤º |
| `PRAGMA database_list;` | ã‚¢ã‚¿ãƒƒãƒæ¸ˆã¿DBä¸€è¦§ã‚’è¡¨ç¤º |
| `PRAGMA table_info(table_name);` | ãƒ†ãƒ¼ãƒ–ãƒ«ã®ã‚«ãƒ©ãƒ æƒ…å ±ã‚’è¡¨ç¤º |
| `PRAGMA foreign_keys;` | å¤–éƒ¨ã‚­ãƒ¼åˆ¶ç´„ã®æœ‰åŠ¹/ç„¡åŠ¹ã‚’ç¢ºèª |
| `PRAGMA foreign_keys = ON;` | å¤–éƒ¨ã‚­ãƒ¼åˆ¶ç´„ã‚’æœ‰åŠ¹åŒ– |
| `PRAGMA journal_mode;` | ã‚¸ãƒ£ãƒ¼ãƒŠãƒ«ãƒ¢ãƒ¼ãƒ‰ã‚’ç¢ºèª |

---

## ğŸ”¹ ãƒ•ã‚¡ã‚¤ãƒ«å…¥å‡ºåŠ›ãƒ»ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ

| ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ |
|-----------|------|
| `.read ãƒ•ã‚¡ã‚¤ãƒ«.sql` | SQLã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œ |
| `.output ãƒ•ã‚¡ã‚¤ãƒ«.txt` | å‡ºåŠ›ã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãå‡ºã™ |
| `.output stdout` | å‡ºåŠ›ã‚’æ¨™æº–å‡ºåŠ›ã«æˆ»ã™ |
| `.once ãƒ•ã‚¡ã‚¤ãƒ«.csv` | æ¬¡ã®1å›ã®å‡ºåŠ›ã ã‘ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãå‡ºã™ |
| `.dump` | å…¨ãƒ‡ãƒ¼ã‚¿ã¨ã‚¹ã‚­ãƒ¼ãƒã‚’SQLã¨ã—ã¦å‡ºåŠ› |
| `.dump ãƒ†ãƒ¼ãƒ–ãƒ«å` | ç‰¹å®šãƒ†ãƒ¼ãƒ–ãƒ«ã ã‘å‡ºåŠ› |

---

## ğŸ”¹ ãƒ‡ãƒãƒƒã‚°ãƒ»é–‹ç™ºè£œåŠ©

| ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ |
|-----------|------|
| `.timer on` | ã‚¯ã‚¨ãƒªå®Ÿè¡Œæ™‚é–“ã‚’è¡¨ç¤º |
| `.echo on` | å®Ÿè¡Œä¸­ã®SQLã‚’è¡¨ç¤º |
| `.eqp on` | ã‚¯ã‚¨ãƒªå®Ÿè¡Œè¨ˆç”»ã‚’è¡¨ç¤ºï¼ˆ`EXPLAIN QUERY PLAN`ã¨åŒç­‰ï¼‰ |
| `.stats on` | ã‚¯ã‚¨ãƒªçµ±è¨ˆã‚’è¡¨ç¤º |
| `.changes on` | å¤‰æ›´ã•ã‚ŒãŸè¡Œæ•°ã‚’è¡¨ç¤º |

---

## ğŸ”¹ ã‚·ã‚¹ãƒ†ãƒ ãƒ»ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£

| ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ |
|-----------|------|
| `.help` | ã‚³ãƒãƒ³ãƒ‰ä¸€è¦§ã‚’è¡¨ç¤º |
| `.shell ã‚³ãƒãƒ³ãƒ‰` | ã‚·ã‚§ãƒ«ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œï¼ˆä¾‹ï¼š`.shell ls`ï¼‰ |
| `.cd ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª` | ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å¤‰æ›´ |
| `.prompt` | ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæ–‡å­—åˆ—ã‚’å¤‰æ›´ |

---

## ğŸ’¡ Tips

- SQLiteã¯**ã‚µãƒ¼ãƒä¸è¦**ã§ãƒ•ã‚¡ã‚¤ãƒ«å˜ä½“ã§å‹•ä½œã€‚  
- `.mode` ã¨ `.headers on` ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã¨è¦‹ã‚„ã™ã„å‡ºåŠ›ã«ã€‚  
- `.dump` ã§ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã€`.read` ã§å¾©å…ƒã§ãã‚‹ã€‚  
- CSVã‚¤ãƒ³ãƒãƒ¼ãƒˆå‰ã« `.mode csv` ã‚’è¨­å®šã—ãªã„ã¨æ­£ã—ãèª­ã¿è¾¼ã‚ãªã„ã€‚  
- `sqlite3 ãƒ•ã‚¡ã‚¤ãƒ«.db ".tables"` ã®ã‚ˆã†ã«ãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼ã§ã‚‚ä½¿ãˆã‚‹ã€‚

---

## ğŸ§© ã‚ˆãä½¿ã†çµ„ã¿åˆã‚ã›ä¾‹

```bash
# æ–°è¦DBã‚’ä½œæˆã—ã¦ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œã‚‹
sqlite3 sample.db
sqlite> CREATE TABLE users (id INTEGER PRIMARY KEY, name TEXT);
sqlite> .tables
users

# CSVã‚¤ãƒ³ãƒãƒ¼ãƒˆ
sqlite> .mode csv
sqlite> .import data.csv users

# å‡ºåŠ›æ•´å½¢
sqlite> .headers on
sqlite> .mode column
sqlite> SELECT * FROM users;

# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
sqlite> .backup backup.db
